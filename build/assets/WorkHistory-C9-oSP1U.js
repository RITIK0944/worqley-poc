import{r as u,j as e}from"./index-DC73O2Iq.js";import{C as r,a as l}from"./card-C28Yz27b.js";import{B as m}from"./createLucideIcon-DV6iIV51.js";import{B as k}from"./badge-DicuVv4H.js";import{I as T}from"./input-dnW69Ym_.js";import{S as h,a as g,b as j,c as N,d as a}from"./select-Bk4-KUGq.js";import{S as f}from"./star-Cp0b3CJy.js";import{S as P}from"./search-BnR5KKmE.js";import{F as b}from"./funnel-Cfq33VU3.js";import{D as B}from"./download-BxkXCTwC.js";import{D as E}from"./dollar-sign-BkHlonNu.js";import{M as L}from"./map-pin-DjfWYCin.js";import{C as M}from"./avatar-BTGaS_Sr.js";import{C as R}from"./circle-check-big-iNZ9dSWx.js";import{C as F}from"./clock-Dfd2bnl-.js";import"./index-BDJGNcjk.js";import"./index-C4R266pM.js";import"./index-CqejPAcr.js";import"./chevron-down-D5Ve5PaK.js";import"./index-Co6OZVtZ.js";const c=[{id:"1",customerName:"Rajesh Sharma",customerMobile:"9876543210",serviceType:"Plumbing",description:"Kitchen sink repair and pipe replacement",location:"Sector 15, Gurgaon",date:"2024-01-20",completedDate:"2024-01-20",status:"completed",payment:800,rating:5,review:"Excellent work! Very professional and completed on time.",duration:"3 hours",photos:2},{id:"2",customerName:"Priya Patel",customerMobile:"9876543211",serviceType:"Plumbing",description:"Bathroom tap installation and water pressure check",location:"MG Road, Delhi",date:"2024-01-19",completedDate:"2024-01-19",status:"completed",payment:1200,rating:4,review:"Good work, but took a bit longer than expected.",duration:"4 hours",photos:3},{id:"3",customerName:"Vikram Singh",customerMobile:"9876543212",serviceType:"Plumbing",description:"Emergency toilet repair",location:"Connaught Place, Delhi",date:"2024-01-18",completedDate:"2024-01-18",status:"completed",payment:950,rating:5,review:"Quick response and perfect solution. Highly recommended!",duration:"2 hours",photos:1},{id:"4",customerName:"Sunita Devi",customerMobile:"9876543213",serviceType:"Plumbing",description:"Water tank cleaning and maintenance",location:"Dwarka, Delhi",date:"2024-01-17",completedDate:null,status:"cancelled",payment:0,rating:0,review:"Customer cancelled due to personal reasons",duration:null,photos:0},{id:"5",customerName:"Amit Kumar",customerMobile:"9876543214",serviceType:"Plumbing",description:"Shower installation and bathroom renovation support",location:"Karol Bagh, Delhi",date:"2024-01-16",completedDate:"2024-01-16",status:"completed",payment:1500,rating:5,review:"Excellent craftsmanship and attention to detail.",duration:"6 hours",photos:5},{id:"6",customerName:"Neha Gupta",customerMobile:"9876543215",serviceType:"Plumbing",description:"Pipe leak detection and repair",location:"Lajpat Nagar, Delhi",date:"2024-01-15",completedDate:"2024-01-16",status:"completed",payment:750,rating:3,review:"Work was okay, but communication could be better.",duration:"3 hours",photos:1}];function ae({user:V}){const[i,v]=u.useState(""),[d,w]=u.useState("all"),[x,y]=u.useState("date-desc"),C=t=>{switch(t){case"completed":return"bg-green-500";case"cancelled":return"bg-red-500";case"in-progress":return"bg-blue-500";default:return"bg-gray-500"}},S=t=>Array.from({length:5},(s,o)=>e.jsx(f,{className:`h-4 w-4 ${o<t?"text-yellow-500 fill-current":"text-gray-300"}`},o)),p=c.filter(t=>{const s=t.customerName.toLowerCase().includes(i.toLowerCase())||t.description.toLowerCase().includes(i.toLowerCase())||t.location.toLowerCase().includes(i.toLowerCase()),o=d==="all"||t.status===d;return s&&o}).sort((t,s)=>{switch(x){case"date-desc":return new Date(s.date).getTime()-new Date(t.date).getTime();case"date-asc":return new Date(t.date).getTime()-new Date(s.date).getTime();case"payment-desc":return s.payment-t.payment;case"payment-asc":return t.payment-s.payment;case"rating-desc":return s.rating-t.rating;default:return 0}}),n={total:c.length,completed:c.filter(t=>t.status==="completed").length,cancelled:c.filter(t=>t.status==="cancelled").length,totalEarnings:c.filter(t=>t.status==="completed").reduce((t,s)=>t+s.payment,0),avgRating:c.filter(t=>t.status==="completed"&&t.rating>0).reduce((t,s,o,D)=>t+s.rating/D.length,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(r,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl",children:n.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Jobs"})]})}),e.jsx(r,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl text-green-600",children:n.completed}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})}),e.jsx(r,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsx("p",{className:"text-2xl text-red-600",children:n.cancelled}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelled"})]})}),e.jsx(r,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsxs("p",{className:"text-2xl",children:["₹",n.totalEarnings]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Earned"})]})}),e.jsx(r,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(f,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsx("p",{className:"text-2xl",children:n.avgRating.toFixed(1)})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Rating"})]})})]}),e.jsx(r,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(P,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(T,{placeholder:"Search by customer, description, or location...",value:i,onChange:t=>v(t.target.value),className:"pl-10"})]}),e.jsxs(h,{value:d,onValueChange:w,children:[e.jsxs(g,{className:"w-[150px]",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),e.jsx(j,{})]}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"completed",children:"Completed"}),e.jsx(a,{value:"cancelled",children:"Cancelled"}),e.jsx(a,{value:"in-progress",children:"In Progress"})]})]}),e.jsxs(h,{value:x,onValueChange:y,children:[e.jsx(g,{className:"w-[150px]",children:e.jsx(j,{})}),e.jsxs(N,{children:[e.jsx(a,{value:"date-desc",children:"Latest First"}),e.jsx(a,{value:"date-asc",children:"Oldest First"}),e.jsx(a,{value:"payment-desc",children:"Highest Payment"}),e.jsx(a,{value:"payment-asc",children:"Lowest Payment"}),e.jsx(a,{value:"rating-desc",children:"Highest Rating"})]})]}),e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Export"]})]})})}),e.jsx("div",{className:"space-y-4",children:p.map(t=>e.jsx(r,{className:"hover:shadow-md transition-shadow",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:t.customerName}),e.jsx(k,{className:`text-white ${C(t.status)}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)}),t.rating>0&&e.jsx("div",{className:"flex items-center space-x-1",children:S(t.rating)})]}),e.jsx("p",{className:"text-muted-foreground mb-2",children:t.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(E,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-lg font-medium text-green-600",children:["₹",t.payment]})]}),t.duration&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Duration: ",t.duration]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),t.location]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Started: ",t.date]}),t.completedDate&&e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Completed: ",t.completedDate]})]}),t.review&&e.jsx("div",{className:"p-3 bg-muted rounded-lg",children:e.jsxs("p",{className:"text-sm italic",children:['"',t.review,'"']})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"outline",size:"sm",children:"View Details"}),t.photos>0&&e.jsxs(m,{variant:"outline",size:"sm",children:["View Photos (",t.photos,")"]})]}),t.status==="completed"&&t.rating===0&&e.jsx(m,{variant:"outline",size:"sm",children:"Request Review"})]})]})})},t.id))}),p.length===0&&e.jsx(r,{children:e.jsxs(l,{className:"text-center py-12",children:[e.jsx(F,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg mb-2",children:"No jobs found"}),e.jsx("p",{className:"text-muted-foreground",children:i||d!=="all"?"No jobs match your current filters. Try adjusting your search criteria.":"Your completed jobs will appear here."})]})})]})}export{ae as WorkHistory};
