import{r as x,j as e}from"./index-DC73O2Iq.js";import{C as a,b as h,c as u,d as j,a as l}from"./card-C28Yz27b.js";import{B as p}from"./createLucideIcon-DV6iIV51.js";import{T as W}from"./textarea-B8YiG350.js";import{B as b}from"./badge-DicuVv4H.js";import{U as w}from"./user-CoQZ_ro7.js";import{S as R}from"./star-Cp0b3CJy.js";import{M as y}from"./message-square-BdV6N31R.js";import{C as $}from"./avatar-BTGaS_Sr.js";import"./index-C4R266pM.js";import"./index-Co6OZVtZ.js";import"./index-BDJGNcjk.js";const C=[{id:"W001",name:"Rajesh Kumar",service:"Plumber",bookingId:"BK001",date:"2024-01-15",hasReview:!1},{id:"W002",name:"Suresh Patel",service:"Electrician",bookingId:"BK002",date:"2024-01-12",hasReview:!1}],r=[{id:"R001",workerName:"Amit Singh",service:"Carpenter",rating:5,review:"Excellent work! Very professional and completed the job perfectly.",date:"2024-01-10",helpful:12},{id:"R002",workerName:"Manoj Sharma",service:"Painter",rating:4,review:"Good work, completed on time. Could improve on cleanliness.",date:"2024-01-08",helpful:8}];function z({user:E}){const[S,d]=x.useState(null),[m,v]=x.useState({}),[f,N]=x.useState({}),k=(s,t)=>{v(i=>({...i,[s]:t}))},B=(s,t)=>{N(i=>({...i,[s]:t}))},P=(s,t)=>{const i=m[s],n=f[s];i&&(alert(`Review submitted for ${t}!
Rating: ${i} stars
Review: ${n||"No written review"}`),v(o=>{const c={...o};return delete c[s],c}),N(o=>{const c={...o};return delete c[s],c}),d(null))},g=(s,t=0,i=!0)=>e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(n=>e.jsx(R,{className:`h-6 w-6 ${n<=t?"text-yellow-500 fill-current":"text-gray-300"} ${i?"cursor-pointer hover:text-yellow-400":""}`,onClick:i?()=>k(s,n):void 0},n))});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(a,{children:e.jsxs(h,{children:[e.jsx(u,{children:"Rating & Reviews"}),e.jsx(j,{children:"Rate workers and share your experience"})]})}),C.length>0&&e.jsxs(a,{children:[e.jsxs(h,{children:[e.jsx(u,{className:"text-lg",children:"Pending Reviews"}),e.jsx(j,{children:"Please rate and review these workers you've recently worked with"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:C.map(s=>e.jsx(a,{className:"border-dashed border-yellow-300 bg-yellow-50",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.service," • ",s.date," • Booking #",s.bookingId]})]})]}),e.jsx(b,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Review Pending"})]}),S===s.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Rate your experience (1-5 stars)"}),g(s.id,m[s.id]||0,!0)]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Write a review (optional)"}),e.jsx(W,{placeholder:"Share your experience to help other customers...",value:f[s.id]||"",onChange:t=>B(s.id,t.target.value),rows:3})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(p,{onClick:()=>P(s.id,s.name),disabled:!m[s.id],children:"Submit Review"}),e.jsx(p,{variant:"outline",onClick:()=>d(null),children:"Cancel"})]})]}):e.jsxs(p,{onClick:()=>d(s.id),className:"w-full",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Rate & Review"]})]})},s.id))})})]}),e.jsxs(a,{children:[e.jsxs(h,{children:[e.jsx(u,{className:"text-lg",children:"Your Previous Reviews"}),e.jsx(j,{children:"Reviews you've submitted for workers"})]}),e.jsx(l,{children:r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"You haven't submitted any reviews yet."})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx(a,{className:"border-l-4 border-l-blue-500",children:e.jsxs(l,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:e.jsx(w,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.workerName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.service})]})]}),e.jsxs("div",{className:"text-right",children:[g(s.id,s.rating,!1),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),s.date]})]})]}),e.jsxs("p",{className:"text-muted-foreground mb-3",children:['"',s.review,'"']}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx(b,{variant:"outline",className:"text-green-600 border-green-600",children:"Review Submitted"}),e.jsxs("span",{className:"text-muted-foreground",children:[s.helpful," people found this helpful"]})]})]})},s.id))})})]}),e.jsx(a,{className:"bg-blue-50 border-blue-200",children:e.jsxs(l,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(y,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"font-medium text-blue-900",children:"Review Guidelines"})]}),e.jsxs("ul",{className:"text-sm space-y-2 text-blue-800",children:[e.jsx("li",{children:"• Be honest and specific about your experience"}),e.jsx("li",{children:"• Focus on the quality of work and professionalism"}),e.jsx("li",{children:"• Mention punctuality and communication skills"}),e.jsx("li",{children:"• Help other customers make informed decisions"}),e.jsx("li",{children:"• Keep reviews respectful and constructive"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(a,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:r.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Reviews Written"})]})}),e.jsx(a,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[r.length>0?(r.reduce((s,t)=>s+t.rating,0)/r.length).toFixed(1):"0","⭐"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating Given"})]})}),e.jsx(a,{children:e.jsxs(l,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:r.reduce((s,t)=>s+t.helpful,0)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Helpful Votes Received"})]})})]})]})}export{z as RatingReview};
