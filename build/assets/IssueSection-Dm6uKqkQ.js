import{r as g,j as e}from"./index-DC73O2Iq.js";import{C as r,b as j,c as p,d as N,a}from"./card-C28Yz27b.js";import{B as l}from"./createLucideIcon-DV6iIV51.js";import{I as o}from"./input-dnW69Ym_.js";import{T as D}from"./textarea-B8YiG350.js";import{B as f}from"./badge-DicuVv4H.js";import{S as b,a as v,b as w,c as y,d as k}from"./select-Bk4-KUGq.js";import{T as c}from"./triangle-alert-B8TtIVcU.js";import{C}from"./circle-check-big-iNZ9dSWx.js";import{M as F}from"./message-square-BdV6N31R.js";import{P as I}from"./phone-Db2JT8Ny.js";import{F as P}from"./file-text-BYZfysWy.js";import{C as A}from"./circle-x-Byzzfj0V.js";import{C as M}from"./clock-Dfd2bnl-.js";import"./index-BDJGNcjk.js";import"./index-C4R266pM.js";import"./index-CqejPAcr.js";import"./chevron-down-D5Ve5PaK.js";const d=[{id:"ISS001",title:"Worker did not show up",category:"Service Quality",workerName:"Rajesh Kumar",bookingId:"BK001",description:"The plumber did not arrive at the scheduled time and did not inform in advance.",status:"Under Investigation",priority:"High",dateCreated:"2024-01-15",lastUpdate:"2024-01-16"},{id:"ISS002",title:"Poor quality of work",category:"Service Quality",workerName:"Suresh Patel",bookingId:"BK002",description:"The electrical work was not completed properly and needs rework.",status:"Resolved",priority:"Medium",dateCreated:"2024-01-10",lastUpdate:"2024-01-12"},{id:"ISS003",title:"Overcharging",category:"Billing",workerName:"Amit Singh",bookingId:"BK003",description:"Worker charged more than the agreed amount without prior notice.",status:"Closed",priority:"High",dateCreated:"2024-01-08",lastUpdate:"2024-01-10"}],E=["Service Quality","Worker Behavior","Billing/Payment","No Show/Late Arrival","Damage to Property","Safety Concerns","Communication Issues","Other"],H=["Low","Medium","High","Critical"];function ae({user:O}){const[u,m]=g.useState(!1),[t,x]=g.useState({title:"",category:"",workerName:"",bookingId:"",priority:"Medium",description:"",attachments:[]}),i=(s,h)=>{x(n=>({...n,[s]:h}))},S=s=>{const h=Array.from(s.target.files||[]);x(n=>({...n,attachments:[...n.attachments,...h].slice(0,3)}))},B=()=>{t.title&&t.category&&t.description&&(alert(`Issue submitted successfully! Issue ID: ISS${Date.now().toString().slice(-6)}`),x({title:"",category:"",workerName:"",bookingId:"",priority:"Medium",description:"",attachments:[]}),m(!1))},R=s=>{switch(s){case"Open":return"bg-red-500";case"Under Investigation":return"bg-yellow-500";case"Resolved":return"bg-green-500";case"Closed":return"bg-gray-500";default:return"bg-blue-500"}},T=s=>{switch(s){case"Critical":return"bg-red-600";case"High":return"bg-orange-500";case"Medium":return"bg-yellow-500";case"Low":return"bg-green-500";default:return"bg-gray-500"}},U=s=>{switch(s){case"Open":return e.jsx(c,{className:"h-4 w-4"});case"Under Investigation":return e.jsx(M,{className:"h-4 w-4"});case"Resolved":return e.jsx(C,{className:"h-4 w-4"});case"Closed":return e.jsx(A,{className:"h-4 w-4"});default:return e.jsx(P,{className:"h-4 w-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(r,{children:e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(p,{className:"flex items-center",children:[e.jsx(c,{className:"h-5 w-5 mr-2"}),"Issues & Complaints"]}),e.jsx(N,{children:"Report and track issues with services or workers"})]}),e.jsxs(l,{onClick:()=>m(!u),children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),"Report Issue"]})]})})}),u&&e.jsx(r,{className:"border-dashed border-red-300 bg-red-50",children:e.jsxs(a,{className:"p-6 space-y-4",children:[e.jsx("h3",{className:"font-medium text-red-900",children:"Report New Issue"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Issue Title *"}),e.jsx(o,{placeholder:"Brief description of the issue",value:t.title,onChange:s=>i("title",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Category *"}),e.jsxs(b,{value:t.category,onValueChange:s=>i("category",s),children:[e.jsx(v,{children:e.jsx(w,{placeholder:"Select issue category"})}),e.jsx(y,{children:E.map(s=>e.jsx(k,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Worker Name"}),e.jsx(o,{placeholder:"Name of the worker involved",value:t.workerName,onChange:s=>i("workerName",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Booking ID"}),e.jsx(o,{placeholder:"Related booking ID (if any)",value:t.bookingId,onChange:s=>i("bookingId",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Priority"}),e.jsxs(b,{value:t.priority,onValueChange:s=>i("priority",s),children:[e.jsx(v,{children:e.jsx(w,{})}),e.jsx(y,{children:H.map(s=>e.jsx(k,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Attachments"}),e.jsx(o,{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:S,className:"cursor-pointer"}),t.attachments.length>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.attachments.length," file(s) selected"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Detailed Description *"}),e.jsx(D,{placeholder:"Provide detailed information about the issue including what happened, when it occurred, and how it affected you...",rows:4,value:t.description,onChange:s=>i("description",s.target.value)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{onClick:B,className:"bg-red-600 hover:bg-red-700",children:"Submit Issue"}),e.jsx(l,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," All issues are taken seriously and will be investigated promptly. You will receive updates via email and in-app notifications."]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.filter(s=>s.status==="Open"||s.status==="Under Investigation").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Issues"})]})}),e.jsx(r,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(s=>s.status==="Resolved").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})}),e.jsx(r,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:d.filter(s=>s.status==="Closed").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Closed"})]})}),e.jsx(r,{children:e.jsxs(a,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Issues"})]})})]}),e.jsxs(r,{children:[e.jsxs(j,{children:[e.jsx(p,{children:"Your Issues"}),e.jsx(N,{children:"Track the status of your reported issues"})]}),e.jsx(a,{children:d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No Issues Reported"}),e.jsx("p",{className:"text-muted-foreground",children:"Great! You haven't reported any issues yet."})]}):e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsx(r,{className:"border-l-4 border-l-red-500",children:e.jsxs(a,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"bg-red-100 rounded-full p-2 mt-1",children:U(s.status)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",s.id," • ",s.category,s.workerName&&` • Worker: ${s.workerName}`,s.bookingId&&` • Booking: ${s.bookingId}`]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(f,{className:`${R(s.status)} text-white mb-1`,children:s.status}),e.jsx(f,{className:`${T(s.priority)} text-white text-xs`,children:s.priority})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created: ",s.dateCreated," • Updated: ",s.lastUpdate]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(l,{size:"sm",variant:"outline",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"View Details"]}),s.status!=="Closed"&&e.jsxs(l,{size:"sm",variant:"outline",children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),"Follow Up"]})]})]})]})},s.id))})})]}),e.jsx(r,{className:"bg-red-50 border-red-200",children:e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-red-900 mb-2 flex items-center",children:[e.jsx(c,{className:"h-5 w-5 mr-2"}),"Emergency Support"]}),e.jsx("p",{className:"text-red-700 text-sm",children:"For urgent safety issues or emergencies, contact us immediately"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(l,{className:"bg-red-600 hover:bg-red-700 mb-2",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Emergency: 1800-URGENT"]}),e.jsx("p",{className:"text-xs text-red-600",children:"Available 24/7"})]})]})})})]})}export{ae as IssueSection};
