import{u as M,r as x,j as e,B as h,C as D,a as I,U as T,b as $,c as B,d as O,S as v,e as y,f as w,g as P,h as C}from"./index-CMaY1ksq.js";import{I as n}from"./input-B7aCAOMd.js";import{L as d}from"./label-CI_xhXcR.js";import{T as R}from"./textarea-BJMFOVaY.js";import{A as H,L as K}from"./LanguageSelector-B4zGwzSz.js";import{U as V}from"./upload-zc04qytV.js";import{M as G}from"./map-pin-DkOsxlVp.js";const J=["India"],W=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Jammu and Kashmir","Ladakh"];function re({onNavigate:p,onLogin:S}){const{t:z}=M(),[a,c]=x.useState({fullName:"",mobile:"",email:"",password:"",confirmPassword:"",aadhaarNumber:"",profilePhoto:null,address:{street:"",city:"",state:"",country:"India",pincode:""}}),[t,u]=x.useState({}),[f,j]=x.useState(!1),[l,N]=x.useState(1),o=s=>{const{name:r,value:i}=s.target;if(r.startsWith("address.")){const m=r.split(".")[1];c(b=>({...b,address:{...b.address,[m]:i}}))}else c(m=>({...m,[r]:i}));t[r]&&u(m=>({...m,[r]:""}))},g=(s,r)=>{c(i=>({...i,address:{...i.address,[s]:r}}))},X=s=>{const r=s.target.files?.[0];r&&c(i=>({...i,profilePhoto:r}))},A=s=>{const r=s.replace(/\D/g,"");return r.length>=8?`${r.slice(0,4)}-${r.slice(4,8)}-${r.slice(8,12)}`:r.length>=4?`${r.slice(0,4)}-${r.slice(4)}`:r},q=s=>{const r=A(s.target.value);c(i=>({...i,aadhaarNumber:r})),t.aadhaarNumber&&u(i=>({...i,aadhaarNumber:""}))},F=()=>{const s={};return a.fullName.trim()||(s.fullName="Full name is required"),a.mobile.trim()?/^\d{10}$/.test(a.mobile)||(s.mobile="Mobile number must be 10 digits"):s.mobile="Mobile number is required",a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match"),u(s),Object.keys(s).length===0},E=()=>{const s={};return a.aadhaarNumber.trim()?/^\d{4}-\d{4}-\d{4}$/.test(a.aadhaarNumber)||(s.aadhaarNumber="Aadhaar number must be in format XXXX-XXXX-XXXX"):s.aadhaarNumber="Aadhaar number is required",a.address.street.trim()||(s["address.street"]="Address is required"),a.address.city.trim()||(s["address.city"]="City is required"),a.address.state||(s["address.state"]="State is required"),a.address.pincode.trim()?/^\d{6}$/.test(a.address.pincode)||(s["address.pincode"]="Pincode must be 6 digits"):s["address.pincode"]="Pincode is required",u(s),Object.keys(s).length===0},k=()=>{l===1&&F()&&N(2)},L=()=>{l>1&&N(l-1)},U=s=>{s.preventDefault(),E()&&(j(!0),setTimeout(()=>{const r={id:Date.now().toString(),fullName:a.fullName,email:a.email,mobile:a.mobile,type:"customer",aadhaarNumber:a.aadhaarNumber,profilePhoto:a.profilePhoto?URL.createObjectURL(a.profilePhoto):void 0,address:a.address};S(r),j(!1)},1500))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(h,{variant:"ghost",onClick:l>1?L:()=>p("login-selection"),children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),l>1?"Previous":"Back"]}),e.jsx(K,{})]}),e.jsxs(D,{children:[e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(T,{className:"h-8 w-8 text-primary"})}),e.jsx($,{children:"Create Customer Account"}),e.jsxs(B,{children:["Step ",l," of 2: ",l===1?"Basic Information":"Personal Details & Address"]})]}),e.jsxs(O,{children:[e.jsxs("form",{onSubmit:l===2?U:s=>{s.preventDefault(),k()},className:"space-y-4",children:[l===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(n,{id:"fullName",name:"fullName",value:a.fullName,onChange:o,required:!0,placeholder:"Enter your full name"}),t.fullName&&e.jsx("p",{className:"text-destructive text-sm",children:t.fullName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"mobile",children:"Mobile Number *"}),e.jsx(n,{id:"mobile",name:"mobile",value:a.mobile,onChange:o,required:!0,placeholder:"Enter 10-digit mobile number",maxLength:10}),t.mobile&&e.jsx("p",{className:"text-destructive text-sm",children:t.mobile})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email *"}),e.jsx(n,{id:"email",name:"email",type:"email",value:a.email,onChange:o,required:!0,placeholder:"Enter your email"}),t.email&&e.jsx("p",{className:"text-destructive text-sm",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password *"}),e.jsx(n,{id:"password",name:"password",type:"password",value:a.password,onChange:o,required:!0,placeholder:"Enter password (min 6 characters)"}),t.password&&e.jsx("p",{className:"text-destructive text-sm",children:t.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx(n,{id:"confirmPassword",name:"confirmPassword",type:"password",value:a.confirmPassword,onChange:o,required:!0,placeholder:"Confirm your password"}),t.confirmPassword&&e.jsx("p",{className:"text-destructive text-sm",children:t.confirmPassword})]}),e.jsx(h,{type:"submit",className:"w-full",children:"Next Step"})]}),l===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"aadhaarNumber",children:"Aadhaar Number *"}),e.jsx(n,{id:"aadhaarNumber",name:"aadhaarNumber",value:a.aadhaarNumber,onChange:q,required:!0,placeholder:"XXXX-XXXX-XXXX",maxLength:14}),t.aadhaarNumber&&e.jsx("p",{className:"text-destructive text-sm",children:t.aadhaarNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"profilePhoto",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(n,{id:"profilePhoto",type:"file",accept:"image/*",onChange:X,className:"hidden"}),e.jsxs(h,{type:"button",variant:"outline",onClick:()=>document.getElementById("profilePhoto")?.click(),children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),a.profilePhoto&&e.jsx("span",{className:"text-sm text-muted-foreground",children:a.profilePhoto.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(G,{className:"h-4 w-4 text-primary"}),e.jsx(d,{children:"Address Information *"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(d,{htmlFor:"address.street",children:"Street Address *"}),e.jsx(R,{id:"address.street",name:"address.street",value:a.address.street,onChange:o,required:!0,placeholder:"Enter your complete address",rows:3}),t["address.street"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.street"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.city",children:"City *"}),e.jsx(n,{id:"address.city",name:"address.city",value:a.address.city,onChange:o,required:!0,placeholder:"Enter city"}),t["address.city"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.city"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.state",children:"State *"}),e.jsxs(v,{value:a.address.state,onValueChange:s=>g("state",s),children:[e.jsx(y,{children:e.jsx(w,{placeholder:"Select state"})}),e.jsx(P,{children:W.map(s=>e.jsx(C,{value:s,children:s},s))})]}),t["address.state"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.state"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.country",children:"Country *"}),e.jsxs(v,{value:a.address.country,onValueChange:s=>g("country",s),children:[e.jsx(y,{children:e.jsx(w,{})}),e.jsx(P,{children:J.map(s=>e.jsx(C,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.pincode",children:"Pincode *"}),e.jsx(n,{id:"address.pincode",name:"address.pincode",value:a.address.pincode,onChange:o,required:!0,placeholder:"6-digit pincode",maxLength:6}),t["address.pincode"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.pincode"]})]})]})]}),e.jsx(h,{type:"submit",className:"w-full",disabled:f,children:f?"Creating Account...":"Create Customer Account"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(h,{variant:"link",className:"p-0 h-auto",onClick:()=>p("customer-login"),children:"Login here"})]})})]})]})]})})}export{re as default};
