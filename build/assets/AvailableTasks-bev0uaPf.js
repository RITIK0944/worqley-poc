import{r as i,j as e,C as l,d as c,B as n,a as S,b as T,S as D,e as R,f as L,g as M,h as o}from"./index-CMaY1ksq.js";import{B as d}from"./badge-C4Kp6e0E.js";import{S as B}from"./separator-DCR7lLrZ.js";import{I as A}from"./input-B7aCAOMd.js";import{M as j}from"./map-pin-DkOsxlVp.js";import{D as p}from"./dollar-sign-5zthOoZD.js";import{C as m}from"./circle-check-big-oozbaIQQ.js";import{S as I}from"./search-MU0eTEMG.js";import{F as $}from"./funnel-CVrT7ECx.js";import{C as f}from"./clock-CANiWCxy.js";import{P as F}from"./phone-BuINqZ0q.js";import{C as H}from"./circle-x-C-sw20Q0.js";const U=[{id:"1",customerName:"Rajesh Sharma",customerMobile:"9876543210",serviceType:"Plumbing",description:"Kitchen sink leakage repair needed urgently",location:"Sector 15, Gurgaon",distance:"2.5 km",requestTime:"2 hours ago",estimatedPayment:"₹800",urgency:"High",estimatedDuration:"2-3 hours"},{id:"2",customerName:"Priya Patel",customerMobile:"9876543211",serviceType:"Plumbing",description:"Bathroom tap installation",location:"MG Road, Delhi",distance:"5.2 km",requestTime:"4 hours ago",estimatedPayment:"₹1200",urgency:"Medium",estimatedDuration:"1-2 hours"},{id:"3",customerName:"Amit Kumar",customerMobile:"9876543212",serviceType:"Plumbing",description:"Water tank overflow issue",location:"Connaught Place, Delhi",distance:"8.1 km",requestTime:"6 hours ago",estimatedPayment:"₹600",urgency:"Low",estimatedDuration:"3-4 hours"},{id:"4",customerName:"Sunita Singh",customerMobile:"9876543213",serviceType:"Plumbing",description:"Bathroom pipe replacement required",location:"Koramangala, Bangalore",distance:"3.8 km",requestTime:"1 hour ago",estimatedPayment:"₹1500",urgency:"High",estimatedDuration:"3-4 hours"},{id:"5",customerName:"Vikram Gupta",customerMobile:"9876543214",serviceType:"Plumbing",description:"Water heater installation and connection",location:"Indiranagar, Bangalore",distance:"4.2 km",requestTime:"3 hours ago",estimatedPayment:"₹2000",urgency:"Medium",estimatedDuration:"2-3 hours"}];function ee({user:E,displayMode:x="full",limit:h,onNavigate:G}){const[t,N]=i.useState(""),[r,v]=i.useState("all"),[y,w]=i.useState(new Date);i.useEffect(()=>{const s=setInterval(()=>{w(new Date)},3e5);return()=>clearInterval(s)},[]);const u=s=>{alert(`Request ${s} accepted! Customer will be notified.`)},b=s=>{alert(`Request ${s} rejected.`)},C=s=>{alert(`Calling ${s.customerName} at ${s.customerMobile}`)},g=s=>{switch(s){case"High":return"bg-red-500";case"Medium":return"bg-yellow-500";case"Low":return"bg-green-500";default:return"bg-gray-500"}};let a=U.filter(s=>{const k=s.description.toLowerCase().includes(t.toLowerCase())||s.customerName.toLowerCase().includes(t.toLowerCase())||s.location.toLowerCase().includes(t.toLowerCase()),P=r==="all"||s.urgency.toLowerCase()===r;return k&&P});return x==="dashboard"&&h&&(a=a.slice(0,h)),x==="dashboard"?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-2",children:[e.jsxs("span",{children:["Refreshed: ",y.toLocaleTimeString()]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Auto-updating"})]})]}),a.map(s=>e.jsx(l,{className:"hover:shadow-md transition-shadow",children:e.jsx(c,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:s.customerName}),e.jsx(d,{variant:"secondary",className:`text-white text-xs ${g(s.urgency)}`,children:s.urgency})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-1",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(j,{className:"h-3 w-3 mr-1"}),s.distance]}),e.jsxs("span",{className:"flex items-center text-green-600 font-medium",children:[e.jsx(p,{className:"h-3 w-3 mr-1"}),s.estimatedPayment]})]})]}),e.jsx(n,{size:"sm",onClick:()=>u(s.id),children:"Accept"})]})})},s.id)),a.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(m,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No new tasks available right now"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(l,{children:[e.jsx(S,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{children:"Available Tasks"}),e.jsxs(d,{variant:"secondary",children:[a.length," Tasks"]})]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(I,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(A,{placeholder:"Search tasks by description, customer, or location...",value:t,onChange:s=>N(s.target.value),className:"pl-10"})]}),e.jsxs(D,{value:r,onValueChange:v,children:[e.jsxs(R,{className:"w-[180px]",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsx(L,{placeholder:"Filter by urgency"})]}),e.jsxs(M,{children:[e.jsx(o,{value:"all",children:"All Urgency"}),e.jsx(o,{value:"high",children:"High Priority"}),e.jsx(o,{value:"medium",children:"Medium Priority"}),e.jsx(o,{value:"low",children:"Low Priority"})]})]})]})})]}),e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsx(l,{className:"hover:shadow-lg transition-shadow",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg",children:s.customerName}),e.jsxs(d,{variant:"secondary",className:`text-white ${g(s.urgency)}`,children:[s.urgency," Priority"]})]}),e.jsx("p",{className:"text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),s.location," (",s.distance,")"]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Duration: ",s.estimatedDuration]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"font-medium",children:s.estimatedPayment})]}),e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Posted ",s.requestTime]})]})]})}),e.jsx(B,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(n,{onClick:()=>u(s.id),className:"flex-1",children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Accept Task"]}),e.jsxs(n,{variant:"outline",onClick:()=>C(s),className:"flex-1 sm:flex-none",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Call Customer"]}),e.jsxs(n,{variant:"destructive",onClick:()=>b(s.id),className:"flex-1 sm:flex-none",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Decline"]})]})]})})},s.id))}),a.length===0&&e.jsx(l,{children:e.jsxs(c,{className:"text-center py-12",children:[e.jsx(m,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg mb-2",children:"No tasks available"}),e.jsx("p",{className:"text-muted-foreground",children:t||r!=="all"?"No tasks match your current filters. Try adjusting your search criteria.":"No new tasks are available right now. Check back later for new opportunities."})]})})]})}export{ee as default};
