import{r as n,j as e}from"./index-DC73O2Iq.js";import{B as b}from"./createLucideIcon-DV6iIV51.js";import{C as h,b as S,c as k,d as M,a as x}from"./card-C28Yz27b.js";import{B as o}from"./badge-DicuVv4H.js";import{A as R,b as U}from"./avatar-BTGaS_Sr.js";import{I as E}from"./input-dnW69Ym_.js";import{S as p,a as f,b as j,c as w,d as a}from"./select-Bk4-KUGq.js";import{S as F}from"./search-BnR5KKmE.js";import{M as H}from"./map-pin-DjfWYCin.js";import{D as K}from"./dollar-sign-BkHlonNu.js";import{C as W}from"./clock-Dfd2bnl-.js";import{C as V}from"./circle-check-big-iNZ9dSWx.js";import{C}from"./circle-alert-CxHeOTNM.js";import{P as $}from"./phone-Db2JT8Ny.js";import{U as z}from"./user-CoQZ_ro7.js";import"./index-C4R266pM.js";import"./index-Co6OZVtZ.js";import"./index-BDJGNcjk.js";import"./index-CqejPAcr.js";import"./chevron-down-D5Ve5PaK.js";const N=[{id:"t1",customerId:"c1",customerName:"Anita Sharma",title:"Kitchen Faucet Repair",description:"Kitchen faucet is leaking from the base. Need someone experienced to fix it quickly. Water is dripping continuously and causing wastage.",category:"Plumbing",location:"Koramangala, Bangalore",budget:800,urgency:"high",createdAt:new Date(Date.now()-7200*1e3).toISOString(),deadline:new Date(Date.now()+1440*60*1e3).toISOString(),status:"posted",requirements:["Bring tools","Experience with modern faucets","Available today"],contactInfo:{phone:"9876543210",email:"anita@example.com"}},{id:"t2",customerId:"c2",customerName:"Raj Patel",title:"Living Room Painting",description:"Need to paint the living room walls. Room is 12x14 feet. Prefer white color with some accent wall. All materials will be provided.",category:"Painting",location:"Indiranagar, Bangalore",budget:3500,urgency:"medium",createdAt:new Date(Date.now()-300*60*1e3).toISOString(),deadline:new Date(Date.now()+4320*60*1e3).toISOString(),status:"posted",requirements:["Bring brushes and rollers","2-day work","Clean finish"],contactInfo:{phone:"9876543211"}},{id:"t3",customerId:"c3",customerName:"Meera Reddy",title:"Deep House Cleaning",description:"Need thorough cleaning of 2BHK apartment. Kitchen, bathrooms, all rooms including balcony. Post-renovation cleaning required.",category:"Cleaning",location:"Whitefield, Bangalore",budget:2e3,urgency:"low",createdAt:new Date(Date.now()-480*60*1e3).toISOString(),deadline:new Date(Date.now()+10080*60*1e3).toISOString(),status:"posted",requirements:["Bring cleaning supplies","6-8 hours work","Experienced in post-renovation cleaning"],contactInfo:{phone:"9876543212",email:"meera@example.com"}},{id:"t4",customerId:"c4",customerName:"Kumar Singh",title:"Fan Installation & Wiring",description:"Need to install 3 ceiling fans in bedrooms. Wiring is already done, just need installation and testing. Old fans need to be removed.",category:"Electrical",location:"HSR Layout, Bangalore",budget:1200,urgency:"medium",createdAt:new Date(Date.now()-720*60*1e3).toISOString(),deadline:new Date(Date.now()+2880*60*1e3).toISOString(),status:"posted",requirements:["Ladder will be provided","Test all connections","Clean installation"],contactInfo:{phone:"9876543213"}},{id:"t5",customerId:"c5",customerName:"Priya Nair",title:"Kitchen Cabinet Repair",description:"Kitchen cabinet door hinges are broken and drawer slides need replacement. 3 cabinets and 2 drawers need fixing.",category:"Carpentry",location:"Electronic City, Bangalore",budget:1500,urgency:"low",createdAt:new Date(Date.now()-1440*60*1e3).toISOString(),deadline:new Date(Date.now()+7200*60*1e3).toISOString(),status:"posted",requirements:["Bring replacement hinges","Measure accurately","Warranty on work"],contactInfo:{phone:"9876543214",email:"priya@example.com"}}];function ge({user:m,onApplyToTask:D}){const[y,I]=n.useState([]),[u,v]=n.useState([]),[i,A]=n.useState(""),[c,B]=n.useState("all"),[d,T]=n.useState("all"),[g,L]=n.useState("newest");n.useEffect(()=>{let t=m.workCategory?N.filter(s=>s.category===m.workCategory):N;I(t),v(t)},[m.workCategory]),n.useEffect(()=>{let t=y;i&&(t=t.filter(s=>s.title.toLowerCase().includes(i.toLowerCase())||s.description.toLowerCase().includes(i.toLowerCase())||s.location.toLowerCase().includes(i.toLowerCase())||s.customerName.toLowerCase().includes(i.toLowerCase()))),c!=="all"&&(t=t.filter(s=>s.category===c)),d!=="all"&&(t=t.filter(s=>s.urgency===d)),t=[...t].sort((s,r)=>{switch(g){case"newest":return new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime();case"oldest":return new Date(s.createdAt).getTime()-new Date(r.createdAt).getTime();case"budget-high":return r.budget-s.budget;case"budget-low":return s.budget-r.budget;case"urgency":const l={high:3,medium:2,low:1};return l[r.urgency]-l[s.urgency];default:return 0}}),v(t)},[y,i,c,d,g]);const q=t=>{switch(t){case"high":return e.jsx(o,{className:"bg-red-100 text-red-800",children:"ðŸ”¥ Urgent"});case"medium":return e.jsx(o,{className:"bg-yellow-100 text-yellow-800",children:"âš¡ Medium"});case"low":return e.jsx(o,{className:"bg-green-100 text-green-800",children:"ðŸ“… Low"});default:return e.jsx(o,{variant:"outline",children:t})}},O=t=>{const s=new Date,r=new Date(t),l=Math.floor((s.getTime()-r.getTime())/(1e3*60*60));return l<1?"Just now":l<24?`${l}h ago`:`${Math.floor(l/24)}d ago`},P=["all",...Array.from(new Set(N.map(t=>t.category)))];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(h,{children:[e.jsxs(S,{children:[e.jsx(k,{children:"Available Tasks"}),e.jsxs(M,{children:[u.length," tasks available in your category"]})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search Tasks"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(E,{placeholder:"Search tasks...",value:i,onChange:t=>A(t.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(p,{value:c,onValueChange:B,children:[e.jsx(f,{children:e.jsx(j,{})}),e.jsx(w,{children:P.map(t=>e.jsx(a,{value:t,children:t==="all"?"All Categories":t},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Urgency"}),e.jsxs(p,{value:d,onValueChange:T,children:[e.jsx(f,{children:e.jsx(j,{})}),e.jsxs(w,{children:[e.jsx(a,{value:"all",children:"All Urgency"}),e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sort By"}),e.jsxs(p,{value:g,onValueChange:L,children:[e.jsx(f,{children:e.jsx(j,{})}),e.jsxs(w,{children:[e.jsx(a,{value:"newest",children:"Newest First"}),e.jsx(a,{value:"oldest",children:"Oldest First"}),e.jsx(a,{value:"budget-high",children:"Budget: High to Low"}),e.jsx(a,{value:"budget-low",children:"Budget: Low to High"}),e.jsx(a,{value:"urgency",children:"Most Urgent"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(t=>e.jsxs(h,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(S,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-10 w-10",children:e.jsx(U,{children:t.customerName.split(" ").map(s=>s[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",t.customerName]})]})]}),q(t.urgency)]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:t.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(H,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"font-semibold",children:["â‚¹",t.budget]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:O(t.createdAt)})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx(o,{variant:"outline",className:"text-xs",children:t.category})})]}),t.requirements&&t.requirements.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Requirements:"}),e.jsxs("div",{className:"space-y-1",children:[t.requirements.slice(0,3).map((s,r)=>e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx(V,{className:"h-3 w-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:s})]},r)),t.requirements.length>3&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",t.requirements.length-3," more requirements"]})]})]}),t.deadline&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"h-4 w-4 text-orange-500"}),e.jsxs("span",{className:"text-muted-foreground",children:["Deadline: ",new Date(t.deadline).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(b,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{t.contactInfo?.phone&&window.open(`tel:${t.contactInfo.phone}`)},children:[e.jsx($,{className:"h-4 w-4 mr-1"}),"Contact"]}),e.jsxs(b,{size:"sm",className:"flex-1",onClick:()=>D(t.id),children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Apply Now"]})]})]})]},t.id))}),u.length===0&&e.jsx(h,{children:e.jsx(x,{className:"text-center py-12",children:e.jsxs("div",{className:"text-muted-foreground",children:[e.jsx(C,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"font-medium mb-2",children:"No tasks found"}),e.jsx("p",{children:"Try adjusting your filters or check back later for new tasks."})]})})})]})}export{ge as TaskBoard};
