import{r as w,j as e}from"./index-DC73O2Iq.js";import{C as t,b as C,c as k,d as P,a as i}from"./card-C28Yz27b.js";import{B as y}from"./badge-DicuVv4H.js";import{c as B,B as l}from"./createLucideIcon-DV6iIV51.js";import{T as M,c as b,d as x,C as n,f as h}from"./avatar-BTGaS_Sr.js";import{C as u}from"./clock-Dfd2bnl-.js";import{U as R}from"./user-CoQZ_ro7.js";import{M as S}from"./map-pin-DjfWYCin.js";import{S as T}from"./star-Cp0b3CJy.js";import{P as D}from"./phone-Db2JT8Ny.js";import{M as A}from"./message-square-BdV6N31R.js";import{D as K}from"./download-BxkXCTwC.js";import"./index-C4R266pM.js";import"./index-Co6OZVtZ.js";import"./index-BDJGNcjk.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],L=B("refresh-cw",$),c=[{id:"BK001",workerName:"Rajesh Kumar",workerPhone:"9876543210",service:"Plumber",date:"2024-01-20",time:"2:00 PM - 4:00 PM",location:"Sector 15, Gurgaon",amount:"₹800",status:"Confirmed",description:"Kitchen sink leakage repair"},{id:"BK002",workerName:"Suresh Patel",workerPhone:"9876543211",service:"Electrician",date:"2024-01-22",time:"10:00 AM - 12:00 PM",location:"MG Road, Delhi",amount:"₹1200",status:"In Progress",description:"Electrical wiring installation"}],a=[{id:"BK003",workerName:"Amit Singh",workerPhone:"9876543212",service:"Carpenter",date:"2024-01-15",time:"9:00 AM - 6:00 PM",location:"Connaught Place, Delhi",amount:"₹2500",status:"Completed",description:"Kitchen cabinet installation",rating:5,review:"Excellent work, very professional"},{id:"BK004",workerName:"Manoj Sharma",workerPhone:"9876543213",service:"Painter",date:"2024-01-10",time:"8:00 AM - 5:00 PM",location:"Saket, Delhi",amount:"₹3200",status:"Completed",description:"Living room painting",rating:4,review:"Good work, completed on time"},{id:"BK005",workerName:"Ravi Yadav",workerPhone:"9876543214",service:"Plumber",date:"2024-01-08",time:"3:00 PM - 5:00 PM",location:"Lajpat Nagar, Delhi",amount:"₹600",status:"Cancelled",description:"Bathroom tap repair",cancelReason:"Worker unavailable"}],E=o=>{switch(o){case"Confirmed":return"bg-blue-500";case"In Progress":return"bg-yellow-500";case"Completed":return"bg-green-500";case"Cancelled":return"bg-red-500";default:return"bg-gray-500"}};function ee({user:o}){const[p,j]=w.useState("current"),N=(s,r)=>{alert(`Calling ${r} at ${s}`)},g=(s,r)=>{alert(`Opening chat with ${r}`)},v=s=>{alert(`Rebooking ${s.service} service with ${s.workerName}`)},f=s=>{alert(`Downloading receipt for booking ${s}`)},d=(s,r=!0)=>e.jsx(t,{className:"hover:shadow-md transition-shadow",children:e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-primary/10 rounded-full p-2",children:e.jsx(R,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.workerName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.service})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(y,{className:`${E(s.status)} text-white`,children:s.status}),e.jsx("p",{className:"text-lg font-medium mt-1",children:s.amount})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(n,{className:"h-4 w-4 mr-2"}),s.date]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),s.time]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),s.location]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),s.rating&&e.jsxs("div",{className:"mb-4 p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"flex",children:[...Array(5)].map((I,m)=>e.jsx(T,{className:`h-4 w-4 ${m<s.rating?"text-yellow-500 fill-current":"text-gray-300"}`},m))}),e.jsx("span",{className:"text-sm font-medium",children:"Your Rating"})]}),s.review&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:['"',s.review,'"']})]}),s.cancelReason&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-700",children:["Cancelled: ",s.cancelReason]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{size:"sm",onClick:()=>N(s.workerPhone,s.workerName),children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),"Call"]}),e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>g(s.id,s.workerName),children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),"Chat"]})]}),!r&&s.status==="Completed"&&e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>v(s),children:[e.jsx(L,{className:"h-4 w-4 mr-1"}),"Book Again"]}),e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>f(s.id),children:[e.jsx(K,{className:"h-4 w-4 mr-1"}),"Receipt"]})]})]})},s.id);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(t,{children:e.jsxs(C,{children:[e.jsx(k,{children:"Booking History"}),e.jsx(P,{children:"Track your current and past service bookings"})]})}),e.jsxs(M,{value:p,onValueChange:j,children:[e.jsxs(b,{className:"grid w-full grid-cols-2",children:[e.jsxs(x,{value:"current",className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsxs("span",{children:["Current Bookings (",c.length,")"]})]}),e.jsxs(x,{value:"previous",className:"flex items-center space-x-2",children:[e.jsx(n,{className:"h-4 w-4"}),e.jsxs("span",{children:["Previous Bookings (",a.length,")"]})]})]}),e.jsx(h,{value:"current",className:"space-y-4",children:c.length===0?e.jsx(t,{children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx(n,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No Current Bookings"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have any active bookings right now."})]})}):c.map(s=>d(s,!0))}),e.jsx(h,{value:"previous",className:"space-y-4",children:a.length===0?e.jsx(t,{children:e.jsxs(i,{className:"p-8 text-center",children:[e.jsx(n,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"font-medium mb-2",children:"No Previous Bookings"}),e.jsx("p",{className:"text-muted-foreground",children:"Your completed bookings will appear here."})]})}):a.map(s=>d(s,!1))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(t,{children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:a.filter(s=>s.status==="Completed").length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed Services"})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["₹",a.filter(s=>s.status==="Completed").reduce((s,r)=>s+parseInt(r.amount.replace("₹","").replace(",","")),0).toLocaleString()]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Spent"})]})}),e.jsx(t,{children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[a.filter(s=>s.rating).length>0?(a.filter(s=>s.rating).reduce((s,r)=>s+(r.rating||0),0)/a.filter(s=>s.rating).length).toFixed(1):"0","⭐"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating Given"})]})})]})]})}export{ee as BookingHistory};
