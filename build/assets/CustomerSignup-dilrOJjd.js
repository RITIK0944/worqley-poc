import{u as I,r as x,j as e}from"./index-DC73O2Iq.js";import{c as U,B as h}from"./createLucideIcon-DV6iIV51.js";import{I as n}from"./input-dnW69Ym_.js";import{L as d}from"./label-Cx5_pDF_.js";import{C as D,b as T,c as $,d as B,a as H}from"./card-C28Yz27b.js";import{S as v,a as y,b as w,c as P,d as C}from"./select-Bk4-KUGq.js";import{T as O}from"./textarea-B8YiG350.js";import{L as R}from"./LanguageSelector-CvhHgNFU.js";import{A as K}from"./arrow-left-1s6UQwX7.js";import{U as V}from"./user-CoQZ_ro7.js";import{M as G}from"./map-pin-DjfWYCin.js";import"./index-BDJGNcjk.js";import"./index-C4R266pM.js";import"./index-CqejPAcr.js";import"./chevron-down-D5Ve5PaK.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],W=U("upload",J),_=["India"],z=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Jammu and Kashmir","Ladakh"];function ue({onNavigate:p,onLogin:S}){const{t:Q}=I(),[a,c]=x.useState({fullName:"",mobile:"",email:"",password:"",confirmPassword:"",aadhaarNumber:"",profilePhoto:null,address:{street:"",city:"",state:"",country:"India",pincode:""}}),[t,u]=x.useState({}),[f,j]=x.useState(!1),[l,N]=x.useState(1),o=s=>{const{name:r,value:i}=s.target;if(r.startsWith("address.")){const m=r.split(".")[1];c(g=>({...g,address:{...g.address,[m]:i}}))}else c(m=>({...m,[r]:i}));t[r]&&u(m=>({...m,[r]:""}))},b=(s,r)=>{c(i=>({...i,address:{...i.address,[s]:r}}))},X=s=>{const r=s.target.files?.[0];r&&c(i=>({...i,profilePhoto:r}))},A=s=>{const r=s.replace(/\D/g,"");return r.length>=8?`${r.slice(0,4)}-${r.slice(4,8)}-${r.slice(8,12)}`:r.length>=4?`${r.slice(0,4)}-${r.slice(4)}`:r},q=s=>{const r=A(s.target.value);c(i=>({...i,aadhaarNumber:r})),t.aadhaarNumber&&u(i=>({...i,aadhaarNumber:""}))},F=()=>{const s={};return a.fullName.trim()||(s.fullName="Full name is required"),a.mobile.trim()?/^\d{10}$/.test(a.mobile)||(s.mobile="Mobile number must be 10 digits"):s.mobile="Mobile number is required",a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match"),u(s),Object.keys(s).length===0},k=()=>{const s={};return a.aadhaarNumber.trim()?/^\d{4}-\d{4}-\d{4}$/.test(a.aadhaarNumber)||(s.aadhaarNumber="Aadhaar number must be in format XXXX-XXXX-XXXX"):s.aadhaarNumber="Aadhaar number is required",a.address.street.trim()||(s["address.street"]="Address is required"),a.address.city.trim()||(s["address.city"]="City is required"),a.address.state||(s["address.state"]="State is required"),a.address.pincode.trim()?/^\d{6}$/.test(a.address.pincode)||(s["address.pincode"]="Pincode must be 6 digits"):s["address.pincode"]="Pincode is required",u(s),Object.keys(s).length===0},E=()=>{l===1&&F()&&N(2)},L=()=>{l>1&&N(l-1)},M=s=>{s.preventDefault(),k()&&(j(!0),setTimeout(()=>{const r={id:Date.now().toString(),fullName:a.fullName,email:a.email,mobile:a.mobile,type:"customer",aadhaarNumber:a.aadhaarNumber,profilePhoto:a.profilePhoto?URL.createObjectURL(a.profilePhoto):void 0,address:a.address};S(r),j(!1)},1500))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(h,{variant:"ghost",onClick:l>1?L:()=>p("home"),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),l>1?"Previous":"Back to Home"]}),e.jsx(R,{})]}),e.jsxs(D,{children:[e.jsxs(T,{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:e.jsx(V,{className:"h-8 w-8 text-primary"})}),e.jsx($,{children:"Create Customer Account"}),e.jsxs(B,{children:["Step ",l," of 2: ",l===1?"Basic Information":"Personal Details & Address"]})]}),e.jsxs(H,{children:[e.jsxs("form",{onSubmit:l===2?M:s=>{s.preventDefault(),E()},className:"space-y-4",children:[l===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(n,{id:"fullName",name:"fullName",value:a.fullName,onChange:o,required:!0,placeholder:"Enter your full name"}),t.fullName&&e.jsx("p",{className:"text-destructive text-sm",children:t.fullName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"mobile",children:"Mobile Number *"}),e.jsx(n,{id:"mobile",name:"mobile",value:a.mobile,onChange:o,required:!0,placeholder:"Enter 10-digit mobile number",maxLength:10}),t.mobile&&e.jsx("p",{className:"text-destructive text-sm",children:t.mobile})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email *"}),e.jsx(n,{id:"email",name:"email",type:"email",value:a.email,onChange:o,required:!0,placeholder:"Enter your email"}),t.email&&e.jsx("p",{className:"text-destructive text-sm",children:t.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Password *"}),e.jsx(n,{id:"password",name:"password",type:"password",value:a.password,onChange:o,required:!0,placeholder:"Enter password (min 6 characters)"}),t.password&&e.jsx("p",{className:"text-destructive text-sm",children:t.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx(n,{id:"confirmPassword",name:"confirmPassword",type:"password",value:a.confirmPassword,onChange:o,required:!0,placeholder:"Confirm your password"}),t.confirmPassword&&e.jsx("p",{className:"text-destructive text-sm",children:t.confirmPassword})]}),e.jsx(h,{type:"submit",className:"w-full",children:"Next Step"})]}),l===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"aadhaarNumber",children:"Aadhaar Number *"}),e.jsx(n,{id:"aadhaarNumber",name:"aadhaarNumber",value:a.aadhaarNumber,onChange:q,required:!0,placeholder:"XXXX-XXXX-XXXX",maxLength:14}),t.aadhaarNumber&&e.jsx("p",{className:"text-destructive text-sm",children:t.aadhaarNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"profilePhoto",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(n,{id:"profilePhoto",type:"file",accept:"image/*",onChange:X,className:"hidden"}),e.jsxs(h,{type:"button",variant:"outline",onClick:()=>document.getElementById("profilePhoto")?.click(),children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),a.profilePhoto&&e.jsx("span",{className:"text-sm text-muted-foreground",children:a.profilePhoto.name})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(G,{className:"h-4 w-4 text-primary"}),e.jsx(d,{children:"Address Information *"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(d,{htmlFor:"address.street",children:"Street Address *"}),e.jsx(O,{id:"address.street",name:"address.street",value:a.address.street,onChange:o,required:!0,placeholder:"Enter your complete address",rows:3}),t["address.street"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.street"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.city",children:"City *"}),e.jsx(n,{id:"address.city",name:"address.city",value:a.address.city,onChange:o,required:!0,placeholder:"Enter city"}),t["address.city"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.city"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.state",children:"State *"}),e.jsxs(v,{value:a.address.state,onValueChange:s=>b("state",s),children:[e.jsx(y,{children:e.jsx(w,{placeholder:"Select state"})}),e.jsx(P,{children:z.map(s=>e.jsx(C,{value:s,children:s},s))})]}),t["address.state"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.state"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.country",children:"Country *"}),e.jsxs(v,{value:a.address.country,onValueChange:s=>b("country",s),children:[e.jsx(y,{children:e.jsx(w,{})}),e.jsx(P,{children:_.map(s=>e.jsx(C,{value:s,children:s},s))})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"address.pincode",children:"Pincode *"}),e.jsx(n,{id:"address.pincode",name:"address.pincode",value:a.address.pincode,onChange:o,required:!0,placeholder:"6-digit pincode",maxLength:6}),t["address.pincode"]&&e.jsx("p",{className:"text-destructive text-sm",children:t["address.pincode"]})]})]})]}),e.jsx(h,{type:"submit",className:"w-full",disabled:f,children:f?"Creating Account...":"Create Customer Account"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(h,{variant:"link",className:"p-0 h-auto",onClick:()=>p("customer-login"),children:"Login here"})]})})]})]})]})})}export{ue as CustomerSignup};
